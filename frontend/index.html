<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ProntoCare</title>
  <!--Link com o arquivo de CSS-->
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>  
  <!--Div principal (engloba todo o conteúdo)-->
  <div class="main-login">
    <!--Div da esquerda (onde está a logo)-->
    <div class="left-login">
      <h1 class="left-header">ProntoCare+,</h1>
      <h2>&nbsp;&nbsp;&nbsp;um novo jeito de olhar para a saúde</h2>
      <!--Foto Dinamica lado esquerdo da-->
      <img src="img/FotoInicial.jpg" alt="Logo" class="left-login-img">
    </div>
    <!--Div da direita onde está o card de login)-->
    <div class="right-login">
      <!--Div para o Card de Login-->
      <form class="card-login" id="card-login">
        <!--Aqui fica a logo dentro do cardlogin-->
        <img src="img/logoNoBG.png" alt="Logo" class="login-logo-img">
        <!--Campo de Texto do Usuário(label e input)-->
        <div class="textfield">
          <label for="user">Usuário</label>
          <input type="text" name="user" id="email" placeholder="Usuário">
        </div>
        <!--Campo de Texto da Senha(label e input)-->
        <div class="textfield">
          <label for="password">Senha</label>
          <input type="password" name="password" id="senha" placeholder="Senha">
        </div>
        <!--Botão do Login-->
        <button class="btn-login">Login</button>
        <!--Div do rodapé do card de login-->
        <div class="login-card-footer">
          <p>Ainda não possui o ProntoCare+?</p>
          <!--Botão em forma de texto-->
          <a href="SignIn.html" class="a-footer">Contrate-nos já!</a>
        </div>
      </form>
    </div>
  </div>
  <script>
    document.getElementsById("card-login").addEventListener("submit", function(event){
      event.preventDefault();

      const email = document.getElementById("email").value;
      const senha = document.getElementById("senha").value;

      const data = {
        email: email,
        senha: senha
      };

      fetch('http://localhost:8080/login',{
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body:JSON.stringify(data)
      })
      .then(response => response.text())
      .then(result => {
        document.getElementById("mensagem").innerText = result;
      })
      .catch( error => {
        console.error('Erro:', error);
      });
   });
  </script>
</body>
</html>